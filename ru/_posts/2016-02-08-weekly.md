---
layout: post
title:  "Performance Weekly. Issue&nbsp;#1"
date:   2016-02-08 12:00:00
excerpt: "Service Workers, производительность приложений на React, профилирование памяти, font-display и скриншот с тенью."
og:
  description: "Service Workers, производительность приложений на React, профилирование памяти, font-display и скриншот с тенью."
  image: "/assets/content/2016-02-08-weekly/cover.png"

---
Осторожно, под одной из&nbsp;ссылок вероломно скрывается скриншот с&nbsp;тенью (Пепелсбей, привет).

* В&nbsp;Smashing Magazine был опубликован монументальный труд &laquo;[Making A&nbsp;Service Worker: A&nbsp;Case Study](https://www.smashingmagazine.com/2016/02/making-a-service-worker/)&raquo;, в&nbsp;котором самым подробным образом рассматриваются все стороны создания своего первого сёрвис воркера. После прочтения хочется сесть и&nbsp;наляпать <nobr>что-нибудь</nobr> эдакое. Ну, а&nbsp;для тех у&nbsp;кого проблемы с&nbsp;фантазией, Mozilla запустила [целый сайт](https://serviceworke.rs/) с&nbsp;практическими примерами использования Service Workers.
* И&nbsp;про React. Вот [первая часть поста](http://benchling.engineering/performance-engineering-with-react/) про производительность <nobr>React-приложений</nobr> и&nbsp;[видео доклада](http://www.youtube.com/watch?v=PnpfGy7q96U) (YouTube, 29:31) про ускорения <nobr>сервер-сайд</nobr> рендеринга. А&nbsp;если вы&nbsp;из&nbsp;тех, кто уверен, что React быстрый по&nbsp;умолчанию, вот [прошлогодний пост](https://aerotwist.com/blog/react-plus-performance-equals-what/) от&nbsp;Пола Льюиса, где он&nbsp;<nobr>зачем-то</nobr> сравнивает производительность приложений на&nbsp;React и&nbsp;Vanilla JS.
* Компания Google [выпустила гайд](https://developers.google.com/web/fundamentals/getting-started/your-first-progressive-web-app/) по&nbsp;созданию прогрессивных <nobr>веб-приложений</nobr>, <nobr>т. е.</nobr> таких, которые работают для всех, всегда и&nbsp;везде. А&nbsp;ещё выглядят, как нативные. Добротный материал.
* За&nbsp;других не&nbsp;скажу, но&nbsp;когда я&nbsp;вижу полностью загрузившуюся страницу с&nbsp;невидимым текстом, я&nbsp;задаюсь только одним вопросом: &laquo;Доколе? Доколе нам это терпеть?&raquo;. Откровенно говоря, мне ещё хочется вырезать глаза у&nbsp;разработчиков этого сайта и&nbsp;повесить их&nbsp;себе на&nbsp;шею в&nbsp;качестве бус, однако, боюсь, что это тема для другого разговора. Так вот, хочется верить, что с&nbsp;поддержкой нового <nobr>CSS-свойства</nobr> <nobr><code>font-display</code></nobr> ситуация должна измениться в&nbsp;лучшую сторону. Это свойство позволяет указать браузеру, как надо рендерить текст, шрифт для которого ещё не&nbsp;загрузился. О&nbsp;возможностях этого свойства читайте в&nbsp;[посте](https://developers.google.com/web/updates/2016/02/font-display) на&nbsp;Google Developers или в&nbsp;[спецификации](https://tabatkins.github.io/specs/css-font-display/). Наблюдать за&nbsp;текущим статусом и&nbsp;уровнем поддержки среди браузеров можно [здесь](https://www.chromestatus.com/feature/4799947908055040).
* Пол Льюс [предлагает](https://aerotwist.com/blog/the-hack-is-back/) способ освобождения основного потока от&nbsp;декодирования больших изображений. Едва&nbsp;ли это можно брать и&nbsp;использовать, но&nbsp;для общего развития определённо стоит ознакомиться.
* Ещё раз (последний, для закрепления) [об&nbsp;изменениях](https://www.nccgroup.trust/uk/about-us/newsroom-and-events/blogs/2016/february/script-injected-css-will-no-longer-block-rendering-in-chrome/) в&nbsp;рендеринге Chrome при динамической загрузке стилей.
* Начиная с&nbsp;сорок четвёртой версии, Firefox маркирует <nobr>CSS-анимации</nobr> для которых включилось аппаратное ускорение значком молнии. Как это выглядит можно посмотреть на&nbsp;[скриншоте](/assets/content/2016-02-08-weekly/hardware-accelerated.png) или увидеть вживую на&nbsp;этой [странице](http://mdn.github.io/performance-scenarios/animation-transform-margin/index.html), например. Для этого необходимо выбрать &laquo;Use transform&raquo;, нажать &laquo;Start&raquo; и&nbsp;проинспектировать любой из&nbsp;анимированных объектов. Детальнее про возможности дебага <nobr>CSS-анимаций</nobr> в&nbsp;Firefox читайте в&nbsp;[документации](https://developer.mozilla.org/en-US/docs/Tools/Page_Inspector/How_to/Work_with_animations) на&nbsp;MDN. Там&nbsp;же, под одной из&nbsp;неприметных ссылок скрыто настоящее сокровище в&nbsp;виде статьи про [производительность анимаций](https://developer.mozilla.org/en-US/docs/Tools/Performance/Scenarios/Animating_CSS_properties).
* А&nbsp;в&nbsp;свежем Firefox Developer Edition появились [новые инструменты](https://hacks.mozilla.org/2016/02/developer-edition-46-more-memory-tooling-improved-media-sidebar-and-more/) для профилирования потребления памяти и&nbsp;работы Garbage Collector. Для тех, кто смутно понимает, что происходит на&nbsp;скриншотах ниже (включая автора этих строк) наш главный эксперт по&nbsp;утечкам памяти&nbsp;&mdash; [Михаил Корепанов](https://twitter.com/PanyaKor)&nbsp;&mdash; обещал написать обновления своего [старого поста](https://habrahabr.ru/company/yandex/blog/195198/) на&nbsp;Хабре, с&nbsp;учётом современных реалий. Всё, Миша, теперь не&nbsp;отвертишься! ![Allocations view](/assets/content/2016-02-08-weekly/allocation.png) ![Dominator view](/assets/content/2016-02-08-weekly/dominators.png)

Нашли <nobr>что-то</nobr> свежее и&nbsp;хорошее? Присылайте! DM&nbsp;в&nbsp;Твиттере открыты, мы&nbsp;ведь тут все заодно :)
